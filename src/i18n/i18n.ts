import i18n from "i18next"
import { initReactI18next } from "react-i18next"
import LanguageDetector from "i18next-browser-languagedetector"

// Локальные переводы
const resources = {
    en: {
        translation: {
            welcome: "Welcome back",
            description: "This is your profile page",
            changeLanguage: "Change Language",
            edit: "Edit",
            profileInfo: "Profile Information",        mainProfileInfo: "Basic information about your account",
            name: "Name",
            email: "Email",
            password: "Password",
            changePassword: "Change Password",
            confirmPassword: "Confirm Password",
            saveChanges: "Save Changes",
            cancel: "Cancel",
            subscription: "Subscription",
            twofa: "Two Factor Authentication",
            registrationDate: "Registration Date",
            currentPassword: "Current Password",
            enterCurrentPassword: "Enter your current password",
            newPassword: "New Password",
            enterNewPassword: "Enter new password",
            passwordConfirmation: "Password Confirmation",
            confirmNewPassword: "Confirm New Password",
            sending: "Sending...",
            subscriptionManagement: "Subscription Management",
            currentSubscription: "Current Subscription",
            activeUntil: "Active until",
            dontHaveActiveSubscription: "You don't have an active subscription",
            renewSubscription: "Renew subscription",
            subscribe: "Subscribe",
            twofasetup: "Two-factor authentication setup",
            scanqr2fa: "Scan the QR code using a two-factor authentication app (for example, Google Authenticator).",
            qrcodesetup: "QR code for two-factor authentication setup",
            notlink2fa: "The link to set up two-factor authentication is currently unavailable.",
            qrcodefromapp: "Enter the code from the app",
            activating2fa: "Activating...",
            activate2fa: "Activate",
            sixDigitCode: "6-digit code",
            addToBundle: "Add to bundle",
            open: "Open",
            dashboard: "Dashboard",
            myPwa: "My PWAs",
            spyCreo: "Spy Creatives",
            bundles: "Bundles",
            bundle: "Bundle",
            upgradeToPro: "Upgrade to Pro",
            profile: "Profile",
            billing: "Billing",
            notifications: "Notifications",
            logout: "Logout",
            creativesInUse: "Creatives in use",
            avgCr: "Avg. CR",
            createPwa: "Create PWA",
            myBundles: "My Bundles",
            topBundleOfTheWeek: "Top bundle of the week",
            anErrorOccurred: "An error occurred",
            passwordReset: "Password reset",
            enterNewPasswordForRecover: "Enter a new password to restore access to your account.",
            passwordChangeSuccess: "Password changed successfully! You will be redirected to the login page.",
            passwordChangeInProgress: "Password change in progress",
            invalidRecoveryLink: "Invalid request. Please check the link for correctness.",
            creative: "Creative",
            // Auth form translations
            createAccount: "Create Account",
            enterRegistrationData: "Enter your registration details",
            signInWith: "Sign in with Telegram, Google or email",
            signUpWithGoogle: "Sign up with Google",
            signInWithGoogle: "Sign in with Google",
            orWithEmail: "Or with email",
            forgotPassword: "Forgot password?",
            loading: "Loading...",
            signUp: "Sign Up",
            signIn: "Sign In",
            alreadyHaveAccount: "Already have an account?",
            noAccount: "No account?",
            termsAndPrivacy: "By continuing, you agree to our",
            termsOfService: "terms of service",
            and: "and",
            privacyPolicy: "privacy policy",

            // PWA Creator translations
            pwaCreatorPro: "PWA Creator Pro",
            createProfessionalPwa: "Create a professional Progressive Web Application in minutes with our constructor",
            // Steps
            basicInformation: "Basic Information",
            nameTagsCollaborators: "Name, tags and collaborators",
            designBranding: "Design & Branding", 
            visualIdentity: "Visual identity and templates",
            functionality: "Functionality",
            featuresSettings: "Features and settings",
            publish: "Publish",
            previewPublish: "Preview and publish",
            
            // Basic Info Step - New translations
            fillBasicDetails: 'Fill in the basic details of your application',
            tags: 'Tags',
            addTagPlaceholder: 'Enter tag...',
            add: 'Add',
            collaborators: 'Collaborators',
            addCollaboratorPlaceholder: 'Enter email...',
            quickSetup: 'Quick Setup',
            quickSetupDescription: 'Choose a template for quick start',
            
            // Additional translations
            appNameLabel: "Application Name",
            appNamePlaceholder: "Enter application name",
            appDescriptionLabel: "Application Description", 
            appDescriptionPlaceholder: "Describe your application",
            casino: "Casino",
            sports: "Sports",
            crypto: "Crypto",
            poker: "Poker",
            innovativeApp: "Innovative application for",
            withModernDesign: "with modern design and user-friendly interface.",
            back: "Back",
            step: "Step",
            of: "of",
            finalPreview: "Final Preview",
            settingsSummary: "Settings Summary",
            aboutThisApp: "About this app",
            information: "Information",
            size: "Size",
            version: "Version",
            updatedOn: "Updated on",
            readyToCreate: "PWA ready to create!",
            checkSettings: "Check settings and create your Progressive Web Application",
            creating: "Creating your PWA...",
            pleaseWait: "Please wait. This may take a few seconds.",
            // Status translations
            active: "Active",
            draft: "Draft",
            paused: "Paused",
            // Navigation/Breadcrumbs
            analytics: "Analytics",
            settings: "Settings",
            // Live Preview
            livePreview: "Live Preview",
            mobile: "Mobile",
            desktop: "Desktop", 
            yourAppName: "Your App Name",
            previewDescription: "App description will appear here...",
            demoButton: "Demo Button",
            livePreviewNote: "This is a live preview of your PWA",
        },
    },
    ru: {
        translation: {
            welcome: "Добро пожаловать",
            description: "Это ваша страница профиля",
            changeLanguage: "Сменить язык",
            edit: "Редактировать",
            profileInfo: "Информация профиля",
            mainProfileInfo: "Основная информация о вашем аккаунте",
            name: "Имя",
            email: "Email",
            password: "Пароль",
            changePassword: "Сменить пароль",
            confirmPassword: "Подтвердите пароль",
            saveChanges: "Сохранить изменения",
            cancel: "Отмена",
            subscription: "Подписка",
            twofa: "Двухфакторная аутентификация",
            registrationDate: "Дата регистрации",
            currentPassword: "Текущий пароль",
            enterCurrentPassword: "Введите ваш текущий пароль",
            newPassword: "Новый пароль",
            enterNewPassword: "Введите новый пароль",
            passwordConfirmation: "Подтверждение пароля",
            confirmNewPassword: "Подтвердите новый пароль",
            sending: "Идёт отправка...",
            subscriptionManagement: "Управление подпиской",
            currentSubscription: "Текущая подписка",
            activeUntil: "Активна до",
            dontHaveActiveSubscription: "У вас нет активной подписки",
            renewSubscription: "Продлить подписку",
            subscribe: "Оформить подписку",
            twofasetup: "Настройка двухфакторной аутентификации",
            scanqr2fa: "Отсканируйте QR-код с помощью приложения для двухфакторной аутентификации (например, Google Authenticator).",
            qrcodesetup: "QR-код для настройки двухфакторной аутентификации",
            notlink2fa: "Ссылка для настройки двухфакторной аутентификации пока недоступна.",
            qrcodefromapp: "Введите код из приложения",
            activating2fa: "Активируем...",
            activate2fa: "Активировать",
            sixDigitCode: "Шестизначный код",
            addToBundle: "Добавить в связку",
            open: "Открыть",
            dashboard: "Дашборд",
            myPwa: "Мои PWAs",
            spyCreo: "Найти креативы",
            bundles: "Связки",
            bundle: "Связка",
            upgradeToPro: "Обновить до PRO",
            profile: "Профиль",
            billing: "Оплата",
            notifications: "Уведомления",
            logout: "Выйти",
            creativesInUse: "Креативы в использовании",
            avgCr: "Средний CR",
            createPwa: "Создать PWA",
            myBundles: "Мои Связки",
            topBundleOfTheWeek: "Топ связка недели",
            anErrorOccurred: "Произошла ошибка",
            passwordReset: "Сброс пароля",
            enterNewPasswordForRecover: "Введите новый пароль для восстановления доступа к вашему аккаунту.",
            passwordChangeSuccess: "Пароль успешно изменён! Вы будете перенаправлены на страницу входа.",
            passwordChangeInProgress: "Смена пароля в процессе",
            invalidRecoveryLink: "Недопустимый запрос. Пожалуйста, проверьте правильность ссылки.",
            creative: "Креатив",
            // Auth form translations
            createAccount: "Создайте аккаунт",
            enterRegistrationData: "Введите данные для регистрации",
            signInWith: "Войдите через Telegram, Google или email",
            signUpWithGoogle: "Регистрация через Google",
            signInWithGoogle: "Войти через Google",
            orWithEmail: "Или с помощью email",
            forgotPassword: "Забыли пароль?",
            loading: "Загрузка...",
            signUp: "Зарегистрироваться",
            signIn: "Войти",
            alreadyHaveAccount: "Уже есть аккаунт?",
            noAccount: "Нет аккаунта?",
            termsAndPrivacy: "Нажимая продолжить, вы соглашаетесь с",
            termsOfService: "условиями сервиса",
            and: "и",
            privacyPolicy: "политикой конфиденциальности",

            // PWA Creator translations
            pwaCreatorPro: "PWA Creator Pro",
            createProfessionalPwa: "Создайте профессиональное Progressive Web Application за несколько минут с помощью нашего конструктора",
            
            // Steps
            nameTagsCollaborators: "Название, теги и доступы",
            designBranding: "Дизайн и брендинг", 
            visualIdentity: "Визуальная идентичность и шаблоны",
            functionality: "Функциональность",
            featuresSettings: "Функции и настройки",
            publish: "Публикация",
            previewPublish: "Предпросмотр и публикация",
            
            // Basic Info Step - New translations
            basicInformation: "Основная информация",
            fillBasicDetails: "Заполните основные детали вашего приложения",
            appNameLabel: "Название приложения",
            appNamePlaceholder: "Введите название приложения",
            appDescriptionLabel: "Описание приложения",
            appDescriptionPlaceholder: "Опишите ваше приложение",
            tags: "Теги",
            addTagPlaceholder: "Введите тег...",
            add: "Добавить",
            collaborators: "Совместная работа",
            addCollaboratorPlaceholder: "Введите email...",
            quickSetup: "Быстрая настройка",
            quickSetupDescription: "Выберите шаблон для быстрого старта",
            selectCategory: "Выберите категорию для вашего приложения",
            // Categories
            casino: "Казино",
            slots: "Слоты", 
            sports: "Спорт",
            poker: "Покер",
            finance: "Финансы",
            crypto: "Криптовалюта",
            innovativeApp: "Инновативное приложение для",
            withModernDesign: "с современным дизайном и удобным интерфейсом.",
            back: "Назад",
            step: "Шаг",
            of: "из",
            finalPreview: "Финальный предпросмотр",
            settingsSummary: "Сводка настроек",
            aboutThisApp: "Об этом приложении",
            information: "Информация",
            size: "Размер",
            version: "Версия",
            updatedOn: "Обновлено",
            readyToCreate: "PWA готово к созданию!",
            checkSettings: "Проверьте настройки и создайте ваше Progressive Web Application",
            creating: "Создаем ваше PWA...",
            pleaseWait: "Пожалуйста, подождите. Это может занять несколько секунд.",
            // Status translations
            active: "Активен",
            draft: "Черновик",
            paused: "Приостановлен",
            // Navigation/Breadcrumbs
            analytics: "Аналитика",
            settings: "Настройки",
        },
    },
    ua: {
        translation: {
            welcome: "Ласкаво просимо",
            description: "Це ваша сторінка профілю",
            changeLanguage: "Змінити мову",
            edit: "Редагувати",
            profileInfo: "Інформація профілю",
            mainProfileInfo: "Основна інформація про ваш обліковий запис",
            name: "Ім'я",
            email: "Email",
            password: "Пароль",
            changePassword: "Змінити пароль",
            confirmPassword: "Підтвердіть пароль",
            saveChanges: "Зберегти зміни",
            cancel: "Скасувати",
            subscription: "Підписка",
            twofa: "Двофакторна аутентифікація",
            registrationDate: "Дата реєстрації",
            currentPassword: "Поточний пароль",
            enterCurrentPassword: "Введіть ваш поточний пароль",
            newPassword: "Новий пароль",
            enterNewPassword: "Введіть новий пароль",
            passwordConfirmation: "Підтвердження пароля",
            confirmNewPassword: "Підтвердіть новий пароль",
            sending: "Надсилання...",
            subscriptionManagement: "Управління підпискою",
            currentSubscription: "Поточна підписка",
            activeUntil: "Активна до",
            dontHaveActiveSubscription: "У вас немає активної підписки",
            renewSubscription: "Продовжити підписку",
            subscribe: "Оформити підписку",
            twofasetup: "Налаштування двофакторної аутентифікації",
            scanqr2fa: "Відскануйте QR-код за допомогою додатку для двофакторної аутентифікації (наприклад, Google Authenticator).",
            qrcodesetup: "QR-код для налаштування двофакторної аутентифікації",
            notlink2fa: "Посилання для налаштування двофакторної аутентифікації недоступне.",
            qrcodefromapp: "Введіть код, який ви бачите в додатку, у поле нижче.",
            enter2facode: "Введіть код двофакторної аутентифікації",
            activating2fa: "Активуємо...",
            activate2fa: "Активувати",
            sixDigitCode: "Шість цифровий код",
            addToBundle: "Додати до зв'язки",
            open: "Відкрити",
            dashboard: "Дашборд",
            myPwa: "Мої PWAs",
            spyCreo: "Знайти креативи",
            bundles: "Зв'язки",
            bundle: "Зв'язка",
            upgradeToPro: "Оновити до PRO",
            profile: "Профіль",
            billing: "Оплата",
            notifications: "Сповіщення",
            logout: "Вийти",
            creativesInUse: "Креативи в користуванні",
            avgCr: "Середній CR",
            createPwa: "Створити PWA",
            myBundles: "Мої Зв'язки",
            topBundleOfTheWeek: "Топ зв'язка тижня",
            anErrorOccurred: "Сталася помилка",
            passwordReset: "Скидання пароля",
            enterNewPasswordForRecover: "Введіть новий пароль, щоб відновити доступ до вашого облікового запису.",
            passwordChangeSuccess: "Пароль успішно змінено! Ви будете перенаправлені на сторінку входу.",
            passwordChangeInProgress: "Зміна пароля триває",
            invalidRecoveryLink: "Недійсний запит. Будь ласка, перевірте правильність посилання.",
            creative: "Креатив",
            // Auth form translations
            createAccount: "Створіть акаунт",
            enterRegistrationData: "Введіть дані для реєстрації",
            signInWith: "Увійдіть через Telegram, Google або email",
            signUpWithGoogle: "Реєстрація через Google",
            signInWithGoogle: "Увійти через Google",
            orWithEmail: "Або за допомогою email",
            forgotPassword: "Забули пароль?",
            loading: "Завантаження...",
            signUp: "Зареєструватися",
            signIn: "Увійти",
            alreadyHaveAccount: "Вже є акаунт?",
            noAccount: "Немає акаунта?",
            termsAndPrivacy: "Натискаючи продовжити, ви погоджуєтеся з",
            termsOfService: "умовами сервісу",
            and: "та",
            privacyPolicy: "політикою конфіденційності",
            
            // PWA Creator translations
            pwaCreatorPro: "PWA Creator Pro",
            createProfessionalPwa: "Створіть професіональне Progressive Web Application за кілька хвилин за допомогою нашого конструктора",
            // Steps
            basicInformation: "Основна інформація",
            basicInfoDescription: "Назва, опис та категорія",
            designDescription: "Кольори та візуальний стиль",
            featuresDescription: "Можливості додатку",
            previewDescription: "Перевірка та створення",
            basicInformationDesc: "Назва, опис та категорія",
            design: "Дизайн",
            designDesc: "Кольори та зовнішній вигляд",
            features: "Функції",
            featuresDesc: "Додаткові можливості",
            preview: "Попередній перегляд",
            previewDesc: "Кінцевий результат",
            // Templates
            designTemplates: "Шаблони дизайну", 
            standardDesign: "Стандартний дизайн",
            modernCleanDesign: "Сучасний чистий дизайн",
            googlePlayStore: "Google Play Store",
            exactCopyGooglePlay: "Точна копія Google Play Store",
            modernApp: "Сучасний додаток",
            minimalistModernDesign: "Мінімалістичний сучасний дизайн",
            colorSchemes: "Кольорові схеми",
            next: "Далі",
            prev: "Назад",
            stepCounter: "Крок {{current}} з {{total}}",
            creatingPwa: "Створюємо ваше PWA...",
            pleaseWait: "Будь ласка, зачекайте. Це може зайняти кілька секунд.",
            // Basic Info Step
            aiAssistant: "AI Помічник",
            autoFillBasicInfo: "Автоматично заповню основну інформацію",
            generate: "Згенерувати",
            appLogo: "Логотип додатку",
            chooseFile: "Вибрати файл",
            logoFormat: "PNG, JPG до 2MB",
            basicInfo: "Основна інформація",
            appNameLabel: "Назва додатку",
            appNamePlaceholder: "Наприклад: Zambia Casino App",
            appDescriptionLabel: "Опис додатку",
            appDescriptionPlaceholder: "Короткий опис для користувачів...",
            domainName: "Доменне ім'я",
            domainPlaceholder: "ваш-додаток.com",
            appCategory: "Категорія додатку",
            selectCategory: "Виберіть категорію для вашого додатку",
            // Categories
            casino: "Казино",
            slots: "Слоти", 
            sports: "Спорт",
            poker: "Покер",
            finance: "Фінанси",
            crypto: "Криптовалюта",
            // AI generation
            innovativeApp: "Інноваційний додаток для",
            withModernDesign: "з сучасним дизайном та зручним інтерфейсом.",
            
            // Basic Info Step - New translations
            fillBasicDetails: 'Заповніть основні деталі вашого додатку',
            tags: 'Теги',
            addTagPlaceholder: 'Введіть тег...',
            add: 'Додати',
            collaborators: 'Співпраця',
            addCollaboratorPlaceholder: 'Введіть email...',
            quickSetup: 'Швидка настройка',
            quickSetupDescription: 'Виберіть шаблон для швидкого старту',
            
            back: "Назад",
            // Status translations
            active: "Активний",
            draft: "Чернетка",
            paused: "Призупинено",
            // Navigation/Breadcrumbs
            analytics: "Аналітика",
            settings: "Налаштування",
        },
    },
}

i18n
    .use(initReactI18next) // Connect i18next to React
    .use(LanguageDetector) // User language detection
    .init({
        resources, // Pass translations directly in code
        fallbackLng: "ru", // Default language
        lng: typeof window !== 'undefined' ? localStorage.getItem('preferredLanguage') || "ru" : "ru",
        detection: {
            order: ['localStorage', 'navigator', 'htmlTag'],
            lookupLocalStorage: 'preferredLanguage',
            caches: ['localStorage'],
        },
        interpolation: {
            escapeValue: false, // React doesn't need escaping
        },
        react: {
            useSuspense: false,
        },
    })

export default i18n
